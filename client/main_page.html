<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="referrer" content="no-referrer">
<title>PreTTY Workbench</title>
<link rel="stylesheet" href="main_page.css?api_key=$api_key">
<script src="main_page.js?api_key=$api_key"></script>
</head>
<body onload="set_panel_size(event)" onkeydown="document_on_key_down(event)">
<div id="app">
	<form id="actions" method="post" enctype="multipart/form-data">
		<label for="filename">Current file</label>
		<input type="text" id="filename" name="filename" value="$current_file">
		<input type="submit" id="load" value="Load" formaction="/load">
		<input type="submit" id="save" value="Save" formaction="/save" formtarget="server_status">
		<input type="submit" id="build_and_run" value="Build and run" formaction="/build_and_run"
			formtarget="output">
		<label for="load_example">Load example</label>
		<select id="load_example">
		</select>
		<input type="hidden" name="api_key" value="$api_key">
	</form>

	<div id="main">
		<textarea id="source_editor" name="source" form="actions" onkeydown="source_editor_key_handler(event)">$current_source</textarea>
		<iframe name="output" src="quick_start.html?api_key=$api_key" id="output_frame"></iframe>
	</div>

	<iframe name="server_status" id="status_frame" src="status.html?api_key=$api_key"></iframe>
</div>
</body>
</html>